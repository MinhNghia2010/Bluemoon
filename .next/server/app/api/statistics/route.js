"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/statistics/route";
exports.ids = ["app/api/statistics/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstatistics%2Froute&page=%2Fapi%2Fstatistics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstatistics%2Froute.ts&appDir=E%3A%5C2025.1%5CKTPM%5CApartment%20Fee%20Management%20App%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5C2025.1%5CKTPM%5CApartment%20Fee%20Management%20App&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstatistics%2Froute&page=%2Fapi%2Fstatistics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstatistics%2Froute.ts&appDir=E%3A%5C2025.1%5CKTPM%5CApartment%20Fee%20Management%20App%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5C2025.1%5CKTPM%5CApartment%20Fee%20Management%20App&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_2025_1_KTPM_Apartment_Fee_Management_App_app_api_statistics_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/statistics/route.ts */ \"(rsc)/./app/api/statistics/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/statistics/route\",\n        pathname: \"/api/statistics\",\n        filename: \"route\",\n        bundlePath: \"app/api/statistics/route\"\n    },\n    resolvedPagePath: \"E:\\\\2025.1\\\\KTPM\\\\Apartment Fee Management App\\\\app\\\\api\\\\statistics\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_2025_1_KTPM_Apartment_Fee_Management_App_app_api_statistics_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/statistics/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdGF0aXN0aWNzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzdGF0aXN0aWNzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc3RhdGlzdGljcyUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDMjAyNS4xJTVDS1RQTSU1Q0FwYXJ0bWVudCUyMEZlZSUyME1hbmFnZW1lbnQlMjBBcHAlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUUlM0ElNUMyMDI1LjElNUNLVFBNJTVDQXBhcnRtZW50JTIwRmVlJTIwTWFuYWdlbWVudCUyMEFwcCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDOEI7QUFDM0c7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcGFydG1lbnQtZmVlLW1hbmFnZW1lbnQtYXBwLz80NDc0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkU6XFxcXDIwMjUuMVxcXFxLVFBNXFxcXEFwYXJ0bWVudCBGZWUgTWFuYWdlbWVudCBBcHBcXFxcYXBwXFxcXGFwaVxcXFxzdGF0aXN0aWNzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zdGF0aXN0aWNzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3RhdGlzdGljc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc3RhdGlzdGljcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkU6XFxcXDIwMjUuMVxcXFxLVFBNXFxcXEFwYXJ0bWVudCBGZWUgTWFuYWdlbWVudCBBcHBcXFxcYXBwXFxcXGFwaVxcXFxzdGF0aXN0aWNzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zdGF0aXN0aWNzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstatistics%2Froute&page=%2Fapi%2Fstatistics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstatistics%2Froute.ts&appDir=E%3A%5C2025.1%5CKTPM%5CApartment%20Fee%20Management%20App%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5C2025.1%5CKTPM%5CApartment%20Fee%20Management%20App&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/statistics/route.ts":
/*!*************************************!*\
  !*** ./app/api/statistics/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n\n\nasync function GET() {\n    try {\n        // Get counts\n        const [totalHouseholds, activeHouseholds, totalPayments, pendingPayments, collectedPayments, overduePayments, totalParkingSlots, occupiedParkingSlots, availableParkingSlots, totalUtilityBills, pendingUtilityBills, paidUtilityBills, overdueUtilityBills] = await Promise.all([\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.household.count(),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.household.count({\n                where: {\n                    status: \"active\"\n                }\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.payment.count(),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.payment.count({\n                where: {\n                    status: \"pending\"\n                }\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.payment.count({\n                where: {\n                    status: \"collected\"\n                }\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.payment.count({\n                where: {\n                    status: \"overdue\"\n                }\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.parkingSlot.count(),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.parkingSlot.count({\n                where: {\n                    status: \"occupied\"\n                }\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.parkingSlot.count({\n                where: {\n                    status: \"available\"\n                }\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.utilityBill.count(),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.utilityBill.count({\n                where: {\n                    status: \"pending\"\n                }\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.utilityBill.count({\n                where: {\n                    status: \"paid\"\n                }\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.utilityBill.count({\n                where: {\n                    status: \"overdue\"\n                }\n            })\n        ]);\n        // Get financial summaries for Fee Payments\n        const [paymentsCollected, paymentsPending, paymentsOverdue] = await Promise.all([\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.payment.aggregate({\n                where: {\n                    status: \"collected\"\n                },\n                _sum: {\n                    amount: true\n                }\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.payment.aggregate({\n                where: {\n                    status: \"pending\"\n                },\n                _sum: {\n                    amount: true\n                }\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.payment.aggregate({\n                where: {\n                    status: \"overdue\"\n                },\n                _sum: {\n                    amount: true\n                }\n            })\n        ]);\n        // Get financial summaries for Utility Bills\n        const [utilitiesPaid, utilitiesPending, utilitiesOverdue] = await Promise.all([\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.utilityBill.aggregate({\n                where: {\n                    status: \"paid\"\n                },\n                _sum: {\n                    amount: true\n                }\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.utilityBill.aggregate({\n                where: {\n                    status: \"pending\"\n                },\n                _sum: {\n                    amount: true\n                }\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.utilityBill.aggregate({\n                where: {\n                    status: \"overdue\"\n                },\n                _sum: {\n                    amount: true\n                }\n            })\n        ]);\n        // Get utility bills by type\n        const [electricityTotal, waterTotal, internetTotal, gasTotal] = await Promise.all([\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.utilityBill.aggregate({\n                where: {\n                    type: \"electricity\"\n                },\n                _sum: {\n                    amount: true\n                },\n                _count: true\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.utilityBill.aggregate({\n                where: {\n                    type: \"water\"\n                },\n                _sum: {\n                    amount: true\n                },\n                _count: true\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.utilityBill.aggregate({\n                where: {\n                    type: \"internet\"\n                },\n                _sum: {\n                    amount: true\n                },\n                _count: true\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.utilityBill.aggregate({\n                where: {\n                    type: \"gas\"\n                },\n                _sum: {\n                    amount: true\n                },\n                _count: true\n            })\n        ]);\n        // Get parking revenue\n        const parkingSlots = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.parkingSlot.findMany({\n            where: {\n                status: \"occupied\"\n            }\n        });\n        const monthlyParkingRevenue = parkingSlots.reduce((sum, slot)=>sum + slot.monthlyFee, 0);\n        // Get parking by type\n        const [carSlots, motorcycleSlots, bicycleSlots] = await Promise.all([\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.parkingSlot.aggregate({\n                where: {\n                    type: \"car\"\n                },\n                _count: true\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.parkingSlot.aggregate({\n                where: {\n                    type: \"motorcycle\"\n                },\n                _count: true\n            }),\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.parkingSlot.aggregate({\n                where: {\n                    type: \"bicycle\"\n                },\n                _count: true\n            })\n        ]);\n        // Get monthly data for the last 6 months with status breakdown\n        const sixMonthsAgo = new Date();\n        sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6);\n        // Get all payments with their status and dates\n        const allPayments = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.payment.findMany({\n            where: {\n                dueDate: {\n                    gte: sixMonthsAgo\n                }\n            },\n            select: {\n                amount: true,\n                status: true,\n                dueDate: true,\n                paymentDate: true\n            }\n        });\n        // Get all utility bills with their status and dates\n        const allUtilities = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.utilityBill.findMany({\n            where: {\n                dueDate: {\n                    gte: sixMonthsAgo\n                }\n            },\n            select: {\n                amount: true,\n                status: true,\n                dueDate: true,\n                paidDate: true,\n                type: true\n            }\n        });\n        // Initialize last 6 months\n        const monthlyRevenue = {};\n        for(let i = 5; i >= 0; i--){\n            const date = new Date();\n            date.setMonth(date.getMonth() - i);\n            const monthKey = date.toISOString().slice(0, 7);\n            monthlyRevenue[monthKey] = {\n                collected: 0,\n                pending: 0,\n                overdue: 0\n            };\n        }\n        // Group payments by month and status\n        allPayments.forEach((payment)=>{\n            const monthKey = payment.dueDate.toISOString().slice(0, 7);\n            if (monthlyRevenue[monthKey]) {\n                if (payment.status === \"collected\") {\n                    monthlyRevenue[monthKey].collected += payment.amount;\n                } else if (payment.status === \"pending\") {\n                    monthlyRevenue[monthKey].pending += payment.amount;\n                } else if (payment.status === \"overdue\") {\n                    monthlyRevenue[monthKey].overdue += payment.amount;\n                }\n            }\n        });\n        // Group utilities by month and status\n        allUtilities.forEach((bill)=>{\n            const monthKey = bill.dueDate.toISOString().slice(0, 7);\n            if (monthlyRevenue[monthKey]) {\n                if (bill.status === \"paid\") {\n                    monthlyRevenue[monthKey].collected += bill.amount;\n                } else if (bill.status === \"pending\") {\n                    monthlyRevenue[monthKey].pending += bill.amount;\n                } else if (bill.status === \"overdue\") {\n                    monthlyRevenue[monthKey].overdue += bill.amount;\n                }\n            }\n        });\n        // Get category distribution\n        const categoryDistribution = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.feeCategory.findMany({\n            include: {\n                _count: {\n                    select: {\n                        payments: true\n                    }\n                }\n            }\n        });\n        // Calculate overall collection rates\n        const totalFeePayments = totalPayments;\n        const collectedFeePayments = collectedPayments;\n        const feeCollectionRate = totalFeePayments > 0 ? Math.round(collectedFeePayments / totalFeePayments * 100) : 0;\n        const totalUtilityPayments = totalUtilityBills;\n        const paidUtilityPayments = paidUtilityBills;\n        const utilityCollectionRate = totalUtilityPayments > 0 ? Math.round(paidUtilityPayments / totalUtilityPayments * 100) : 0;\n        // Overall totals\n        const totalCollected = (paymentsCollected._sum.amount || 0) + (utilitiesPaid._sum.amount || 0);\n        const totalPending = (paymentsPending._sum.amount || 0) + (utilitiesPending._sum.amount || 0);\n        const totalOverdue = (paymentsOverdue._sum.amount || 0) + (utilitiesOverdue._sum.amount || 0);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            overview: {\n                totalHouseholds,\n                activeHouseholds,\n                // Fee Payments\n                totalPayments,\n                pendingPayments,\n                collectedPayments,\n                overduePayments,\n                feeCollectionRate,\n                // Utility Bills\n                totalUtilityBills,\n                pendingUtilityBills,\n                paidUtilityBills,\n                overdueUtilityBills,\n                utilityCollectionRate,\n                // Parking\n                totalParkingSlots,\n                occupiedParkingSlots,\n                availableParkingSlots\n            },\n            // Fee Payments financials\n            feePayments: {\n                collected: paymentsCollected._sum.amount || 0,\n                pending: paymentsPending._sum.amount || 0,\n                overdue: paymentsOverdue._sum.amount || 0,\n                total: (paymentsCollected._sum.amount || 0) + (paymentsPending._sum.amount || 0) + (paymentsOverdue._sum.amount || 0)\n            },\n            // Utility Bills financials\n            utilities: {\n                paid: utilitiesPaid._sum.amount || 0,\n                pending: utilitiesPending._sum.amount || 0,\n                overdue: utilitiesOverdue._sum.amount || 0,\n                total: (utilitiesPaid._sum.amount || 0) + (utilitiesPending._sum.amount || 0) + (utilitiesOverdue._sum.amount || 0),\n                byType: {\n                    electricity: {\n                        amount: electricityTotal._sum.amount || 0,\n                        count: electricityTotal._count\n                    },\n                    water: {\n                        amount: waterTotal._sum.amount || 0,\n                        count: waterTotal._count\n                    },\n                    internet: {\n                        amount: internetTotal._sum.amount || 0,\n                        count: internetTotal._count\n                    },\n                    gas: {\n                        amount: gasTotal._sum.amount || 0,\n                        count: gasTotal._count\n                    }\n                }\n            },\n            // Parking financials\n            parking: {\n                total: totalParkingSlots,\n                occupied: occupiedParkingSlots,\n                available: availableParkingSlots,\n                monthlyRevenue: monthlyParkingRevenue,\n                byType: {\n                    car: carSlots._count,\n                    motorcycle: motorcycleSlots._count,\n                    bicycle: bicycleSlots._count\n                }\n            },\n            // Combined financials\n            financials: {\n                totalCollected,\n                totalPending,\n                totalOverdue,\n                grandTotal: totalCollected + totalPending + totalOverdue\n            },\n            // Monthly revenue breakdown by status\n            monthlyRevenue: Object.entries(monthlyRevenue).map(([month, data])=>({\n                    month,\n                    collected: data.collected,\n                    pending: data.pending,\n                    overdue: data.overdue,\n                    total: data.collected + data.pending + data.overdue\n                })).sort((a, b)=>a.month.localeCompare(b.month)),\n            // Category distribution\n            categoryDistribution: categoryDistribution.map((cat)=>({\n                    name: cat.name,\n                    count: cat._count.payments,\n                    amount: cat.amount,\n                    totalValue: cat._count.payments * cat.amount\n                }))\n        });\n    } catch (error) {\n        console.error(\"Get statistics error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3N0YXRpc3RpY3Mvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBDO0FBQ1Q7QUFFMUIsZUFBZUU7SUFDcEIsSUFBSTtRQUNGLGFBQWE7UUFDYixNQUFNLENBQ0pDLGlCQUNBQyxrQkFDQUMsZUFDQUMsaUJBQ0FDLG1CQUNBQyxpQkFDQUMsbUJBQ0FDLHNCQUNBQyx1QkFDQUMsbUJBQ0FDLHFCQUNBQyxrQkFDQUMsb0JBQ0QsR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7WUFDcEJoQiwyQ0FBTUEsQ0FBQ2lCLFNBQVMsQ0FBQ0MsS0FBSztZQUN0QmxCLDJDQUFNQSxDQUFDaUIsU0FBUyxDQUFDQyxLQUFLLENBQUM7Z0JBQUVDLE9BQU87b0JBQUVDLFFBQVE7Z0JBQVM7WUFBRTtZQUNyRHBCLDJDQUFNQSxDQUFDcUIsT0FBTyxDQUFDSCxLQUFLO1lBQ3BCbEIsMkNBQU1BLENBQUNxQixPQUFPLENBQUNILEtBQUssQ0FBQztnQkFBRUMsT0FBTztvQkFBRUMsUUFBUTtnQkFBVTtZQUFFO1lBQ3BEcEIsMkNBQU1BLENBQUNxQixPQUFPLENBQUNILEtBQUssQ0FBQztnQkFBRUMsT0FBTztvQkFBRUMsUUFBUTtnQkFBWTtZQUFFO1lBQ3REcEIsMkNBQU1BLENBQUNxQixPQUFPLENBQUNILEtBQUssQ0FBQztnQkFBRUMsT0FBTztvQkFBRUMsUUFBUTtnQkFBVTtZQUFFO1lBQ3BEcEIsMkNBQU1BLENBQUNzQixXQUFXLENBQUNKLEtBQUs7WUFDeEJsQiwyQ0FBTUEsQ0FBQ3NCLFdBQVcsQ0FBQ0osS0FBSyxDQUFDO2dCQUFFQyxPQUFPO29CQUFFQyxRQUFRO2dCQUFXO1lBQUU7WUFDekRwQiwyQ0FBTUEsQ0FBQ3NCLFdBQVcsQ0FBQ0osS0FBSyxDQUFDO2dCQUFFQyxPQUFPO29CQUFFQyxRQUFRO2dCQUFZO1lBQUU7WUFDMURwQiwyQ0FBTUEsQ0FBQ3VCLFdBQVcsQ0FBQ0wsS0FBSztZQUN4QmxCLDJDQUFNQSxDQUFDdUIsV0FBVyxDQUFDTCxLQUFLLENBQUM7Z0JBQUVDLE9BQU87b0JBQUVDLFFBQVE7Z0JBQVU7WUFBRTtZQUN4RHBCLDJDQUFNQSxDQUFDdUIsV0FBVyxDQUFDTCxLQUFLLENBQUM7Z0JBQUVDLE9BQU87b0JBQUVDLFFBQVE7Z0JBQU87WUFBRTtZQUNyRHBCLDJDQUFNQSxDQUFDdUIsV0FBVyxDQUFDTCxLQUFLLENBQUM7Z0JBQUVDLE9BQU87b0JBQUVDLFFBQVE7Z0JBQVU7WUFBRTtTQUN6RDtRQUVELDJDQUEyQztRQUMzQyxNQUFNLENBQ0pJLG1CQUNBQyxpQkFDQUMsZ0JBQ0QsR0FBRyxNQUFNWCxRQUFRQyxHQUFHLENBQUM7WUFDcEJoQiwyQ0FBTUEsQ0FBQ3FCLE9BQU8sQ0FBQ00sU0FBUyxDQUFDO2dCQUN2QlIsT0FBTztvQkFBRUMsUUFBUTtnQkFBWTtnQkFDN0JRLE1BQU07b0JBQUVDLFFBQVE7Z0JBQUs7WUFDdkI7WUFDQTdCLDJDQUFNQSxDQUFDcUIsT0FBTyxDQUFDTSxTQUFTLENBQUM7Z0JBQ3ZCUixPQUFPO29CQUFFQyxRQUFRO2dCQUFVO2dCQUMzQlEsTUFBTTtvQkFBRUMsUUFBUTtnQkFBSztZQUN2QjtZQUNBN0IsMkNBQU1BLENBQUNxQixPQUFPLENBQUNNLFNBQVMsQ0FBQztnQkFDdkJSLE9BQU87b0JBQUVDLFFBQVE7Z0JBQVU7Z0JBQzNCUSxNQUFNO29CQUFFQyxRQUFRO2dCQUFLO1lBQ3ZCO1NBQ0Q7UUFFRCw0Q0FBNEM7UUFDNUMsTUFBTSxDQUNKQyxlQUNBQyxrQkFDQUMsaUJBQ0QsR0FBRyxNQUFNakIsUUFBUUMsR0FBRyxDQUFDO1lBQ3BCaEIsMkNBQU1BLENBQUN1QixXQUFXLENBQUNJLFNBQVMsQ0FBQztnQkFDM0JSLE9BQU87b0JBQUVDLFFBQVE7Z0JBQU87Z0JBQ3hCUSxNQUFNO29CQUFFQyxRQUFRO2dCQUFLO1lBQ3ZCO1lBQ0E3QiwyQ0FBTUEsQ0FBQ3VCLFdBQVcsQ0FBQ0ksU0FBUyxDQUFDO2dCQUMzQlIsT0FBTztvQkFBRUMsUUFBUTtnQkFBVTtnQkFDM0JRLE1BQU07b0JBQUVDLFFBQVE7Z0JBQUs7WUFDdkI7WUFDQTdCLDJDQUFNQSxDQUFDdUIsV0FBVyxDQUFDSSxTQUFTLENBQUM7Z0JBQzNCUixPQUFPO29CQUFFQyxRQUFRO2dCQUFVO2dCQUMzQlEsTUFBTTtvQkFBRUMsUUFBUTtnQkFBSztZQUN2QjtTQUNEO1FBRUQsNEJBQTRCO1FBQzVCLE1BQU0sQ0FDSkksa0JBQ0FDLFlBQ0FDLGVBQ0FDLFNBQ0QsR0FBRyxNQUFNckIsUUFBUUMsR0FBRyxDQUFDO1lBQ3BCaEIsMkNBQU1BLENBQUN1QixXQUFXLENBQUNJLFNBQVMsQ0FBQztnQkFDM0JSLE9BQU87b0JBQUVrQixNQUFNO2dCQUFjO2dCQUM3QlQsTUFBTTtvQkFBRUMsUUFBUTtnQkFBSztnQkFDckJTLFFBQVE7WUFDVjtZQUNBdEMsMkNBQU1BLENBQUN1QixXQUFXLENBQUNJLFNBQVMsQ0FBQztnQkFDM0JSLE9BQU87b0JBQUVrQixNQUFNO2dCQUFRO2dCQUN2QlQsTUFBTTtvQkFBRUMsUUFBUTtnQkFBSztnQkFDckJTLFFBQVE7WUFDVjtZQUNBdEMsMkNBQU1BLENBQUN1QixXQUFXLENBQUNJLFNBQVMsQ0FBQztnQkFDM0JSLE9BQU87b0JBQUVrQixNQUFNO2dCQUFXO2dCQUMxQlQsTUFBTTtvQkFBRUMsUUFBUTtnQkFBSztnQkFDckJTLFFBQVE7WUFDVjtZQUNBdEMsMkNBQU1BLENBQUN1QixXQUFXLENBQUNJLFNBQVMsQ0FBQztnQkFDM0JSLE9BQU87b0JBQUVrQixNQUFNO2dCQUFNO2dCQUNyQlQsTUFBTTtvQkFBRUMsUUFBUTtnQkFBSztnQkFDckJTLFFBQVE7WUFDVjtTQUNEO1FBRUQsc0JBQXNCO1FBQ3RCLE1BQU1DLGVBQWUsTUFBTXZDLDJDQUFNQSxDQUFDc0IsV0FBVyxDQUFDa0IsUUFBUSxDQUFDO1lBQ3JEckIsT0FBTztnQkFBRUMsUUFBUTtZQUFXO1FBQzlCO1FBQ0EsTUFBTXFCLHdCQUF3QkYsYUFBYUcsTUFBTSxDQUFDLENBQUNDLEtBQUtDLE9BQVNELE1BQU1DLEtBQUtDLFVBQVUsRUFBRTtRQUV4RixzQkFBc0I7UUFDdEIsTUFBTSxDQUNKQyxVQUNBQyxpQkFDQUMsYUFDRCxHQUFHLE1BQU1qQyxRQUFRQyxHQUFHLENBQUM7WUFDcEJoQiwyQ0FBTUEsQ0FBQ3NCLFdBQVcsQ0FBQ0ssU0FBUyxDQUFDO2dCQUMzQlIsT0FBTztvQkFBRWtCLE1BQU07Z0JBQU07Z0JBQ3JCQyxRQUFRO1lBQ1Y7WUFDQXRDLDJDQUFNQSxDQUFDc0IsV0FBVyxDQUFDSyxTQUFTLENBQUM7Z0JBQzNCUixPQUFPO29CQUFFa0IsTUFBTTtnQkFBYTtnQkFDNUJDLFFBQVE7WUFDVjtZQUNBdEMsMkNBQU1BLENBQUNzQixXQUFXLENBQUNLLFNBQVMsQ0FBQztnQkFDM0JSLE9BQU87b0JBQUVrQixNQUFNO2dCQUFVO2dCQUN6QkMsUUFBUTtZQUNWO1NBQ0Q7UUFFRCwrREFBK0Q7UUFDL0QsTUFBTVcsZUFBZSxJQUFJQztRQUN6QkQsYUFBYUUsUUFBUSxDQUFDRixhQUFhRyxRQUFRLEtBQUs7UUFFaEQsK0NBQStDO1FBQy9DLE1BQU1DLGNBQWMsTUFBTXJELDJDQUFNQSxDQUFDcUIsT0FBTyxDQUFDbUIsUUFBUSxDQUFDO1lBQ2hEckIsT0FBTztnQkFDTG1DLFNBQVM7b0JBQUVDLEtBQUtOO2dCQUFhO1lBQy9CO1lBQ0FPLFFBQVE7Z0JBQ04zQixRQUFRO2dCQUNSVCxRQUFRO2dCQUNSa0MsU0FBUztnQkFDVEcsYUFBYTtZQUNmO1FBQ0Y7UUFFQSxvREFBb0Q7UUFDcEQsTUFBTUMsZUFBZSxNQUFNMUQsMkNBQU1BLENBQUN1QixXQUFXLENBQUNpQixRQUFRLENBQUM7WUFDckRyQixPQUFPO2dCQUNMbUMsU0FBUztvQkFBRUMsS0FBS047Z0JBQWE7WUFDL0I7WUFDQU8sUUFBUTtnQkFDTjNCLFFBQVE7Z0JBQ1JULFFBQVE7Z0JBQ1JrQyxTQUFTO2dCQUNUSyxVQUFVO2dCQUNWdEIsTUFBTTtZQUNSO1FBQ0Y7UUFFQSwyQkFBMkI7UUFDM0IsTUFBTXVCLGlCQUE2RixDQUFDO1FBQ3BHLElBQUssSUFBSUMsSUFBSSxHQUFHQSxLQUFLLEdBQUdBLElBQUs7WUFDM0IsTUFBTUMsT0FBTyxJQUFJWjtZQUNqQlksS0FBS1gsUUFBUSxDQUFDVyxLQUFLVixRQUFRLEtBQUtTO1lBQ2hDLE1BQU1FLFdBQVdELEtBQUtFLFdBQVcsR0FBR0MsS0FBSyxDQUFDLEdBQUc7WUFDN0NMLGNBQWMsQ0FBQ0csU0FBUyxHQUFHO2dCQUFFRyxXQUFXO2dCQUFHQyxTQUFTO2dCQUFHQyxTQUFTO1lBQUU7UUFDcEU7UUFFQSxxQ0FBcUM7UUFDckNmLFlBQVlnQixPQUFPLENBQUNoRCxDQUFBQTtZQUNsQixNQUFNMEMsV0FBVzFDLFFBQVFpQyxPQUFPLENBQUNVLFdBQVcsR0FBR0MsS0FBSyxDQUFDLEdBQUc7WUFDeEQsSUFBSUwsY0FBYyxDQUFDRyxTQUFTLEVBQUU7Z0JBQzVCLElBQUkxQyxRQUFRRCxNQUFNLEtBQUssYUFBYTtvQkFDbEN3QyxjQUFjLENBQUNHLFNBQVMsQ0FBQ0csU0FBUyxJQUFJN0MsUUFBUVEsTUFBTTtnQkFDdEQsT0FBTyxJQUFJUixRQUFRRCxNQUFNLEtBQUssV0FBVztvQkFDdkN3QyxjQUFjLENBQUNHLFNBQVMsQ0FBQ0ksT0FBTyxJQUFJOUMsUUFBUVEsTUFBTTtnQkFDcEQsT0FBTyxJQUFJUixRQUFRRCxNQUFNLEtBQUssV0FBVztvQkFDdkN3QyxjQUFjLENBQUNHLFNBQVMsQ0FBQ0ssT0FBTyxJQUFJL0MsUUFBUVEsTUFBTTtnQkFDcEQ7WUFDRjtRQUNGO1FBRUEsc0NBQXNDO1FBQ3RDNkIsYUFBYVcsT0FBTyxDQUFDQyxDQUFBQTtZQUNuQixNQUFNUCxXQUFXTyxLQUFLaEIsT0FBTyxDQUFDVSxXQUFXLEdBQUdDLEtBQUssQ0FBQyxHQUFHO1lBQ3JELElBQUlMLGNBQWMsQ0FBQ0csU0FBUyxFQUFFO2dCQUM1QixJQUFJTyxLQUFLbEQsTUFBTSxLQUFLLFFBQVE7b0JBQzFCd0MsY0FBYyxDQUFDRyxTQUFTLENBQUNHLFNBQVMsSUFBSUksS0FBS3pDLE1BQU07Z0JBQ25ELE9BQU8sSUFBSXlDLEtBQUtsRCxNQUFNLEtBQUssV0FBVztvQkFDcEN3QyxjQUFjLENBQUNHLFNBQVMsQ0FBQ0ksT0FBTyxJQUFJRyxLQUFLekMsTUFBTTtnQkFDakQsT0FBTyxJQUFJeUMsS0FBS2xELE1BQU0sS0FBSyxXQUFXO29CQUNwQ3dDLGNBQWMsQ0FBQ0csU0FBUyxDQUFDSyxPQUFPLElBQUlFLEtBQUt6QyxNQUFNO2dCQUNqRDtZQUNGO1FBQ0Y7UUFFQSw0QkFBNEI7UUFDNUIsTUFBTTBDLHVCQUF1QixNQUFNdkUsMkNBQU1BLENBQUN3RSxXQUFXLENBQUNoQyxRQUFRLENBQUM7WUFDN0RpQyxTQUFTO2dCQUNQbkMsUUFBUTtvQkFDTmtCLFFBQVE7d0JBQUVrQixVQUFVO29CQUFLO2dCQUMzQjtZQUNGO1FBQ0Y7UUFFQSxxQ0FBcUM7UUFDckMsTUFBTUMsbUJBQW1CdkU7UUFDekIsTUFBTXdFLHVCQUF1QnRFO1FBQzdCLE1BQU11RSxvQkFBb0JGLG1CQUFtQixJQUN6Q0csS0FBS0MsS0FBSyxDQUFDLHVCQUF3QkosbUJBQW9CLE9BQ3ZEO1FBRUosTUFBTUssdUJBQXVCckU7UUFDN0IsTUFBTXNFLHNCQUFzQnBFO1FBQzVCLE1BQU1xRSx3QkFBd0JGLHVCQUF1QixJQUNqREYsS0FBS0MsS0FBSyxDQUFDLHNCQUF1QkMsdUJBQXdCLE9BQzFEO1FBRUosaUJBQWlCO1FBQ2pCLE1BQU1HLGlCQUFpQixDQUFDM0Qsa0JBQWtCSSxJQUFJLENBQUNDLE1BQU0sSUFBSSxLQUFNQyxDQUFBQSxjQUFjRixJQUFJLENBQUNDLE1BQU0sSUFBSTtRQUM1RixNQUFNdUQsZUFBZSxDQUFDM0QsZ0JBQWdCRyxJQUFJLENBQUNDLE1BQU0sSUFBSSxLQUFNRSxDQUFBQSxpQkFBaUJILElBQUksQ0FBQ0MsTUFBTSxJQUFJO1FBQzNGLE1BQU13RCxlQUFlLENBQUMzRCxnQkFBZ0JFLElBQUksQ0FBQ0MsTUFBTSxJQUFJLEtBQU1HLENBQUFBLGlCQUFpQkosSUFBSSxDQUFDQyxNQUFNLElBQUk7UUFFM0YsT0FBTzlCLHFEQUFZQSxDQUFDdUYsSUFBSSxDQUFDO1lBQ3ZCQyxVQUFVO2dCQUNSckY7Z0JBQ0FDO2dCQUNBLGVBQWU7Z0JBQ2ZDO2dCQUNBQztnQkFDQUM7Z0JBQ0FDO2dCQUNBc0U7Z0JBQ0EsZ0JBQWdCO2dCQUNoQmxFO2dCQUNBQztnQkFDQUM7Z0JBQ0FDO2dCQUNBb0U7Z0JBQ0EsVUFBVTtnQkFDVjFFO2dCQUNBQztnQkFDQUM7WUFDRjtZQUNBLDBCQUEwQjtZQUMxQjhFLGFBQWE7Z0JBQ1h0QixXQUFXMUMsa0JBQWtCSSxJQUFJLENBQUNDLE1BQU0sSUFBSTtnQkFDNUNzQyxTQUFTMUMsZ0JBQWdCRyxJQUFJLENBQUNDLE1BQU0sSUFBSTtnQkFDeEN1QyxTQUFTMUMsZ0JBQWdCRSxJQUFJLENBQUNDLE1BQU0sSUFBSTtnQkFDeEM0RCxPQUFPLENBQUNqRSxrQkFBa0JJLElBQUksQ0FBQ0MsTUFBTSxJQUFJLEtBQU1KLENBQUFBLGdCQUFnQkcsSUFBSSxDQUFDQyxNQUFNLElBQUksS0FBTUgsQ0FBQUEsZ0JBQWdCRSxJQUFJLENBQUNDLE1BQU0sSUFBSTtZQUNySDtZQUNBLDJCQUEyQjtZQUMzQjZELFdBQVc7Z0JBQ1RDLE1BQU03RCxjQUFjRixJQUFJLENBQUNDLE1BQU0sSUFBSTtnQkFDbkNzQyxTQUFTcEMsaUJBQWlCSCxJQUFJLENBQUNDLE1BQU0sSUFBSTtnQkFDekN1QyxTQUFTcEMsaUJBQWlCSixJQUFJLENBQUNDLE1BQU0sSUFBSTtnQkFDekM0RCxPQUFPLENBQUMzRCxjQUFjRixJQUFJLENBQUNDLE1BQU0sSUFBSSxLQUFNRSxDQUFBQSxpQkFBaUJILElBQUksQ0FBQ0MsTUFBTSxJQUFJLEtBQU1HLENBQUFBLGlCQUFpQkosSUFBSSxDQUFDQyxNQUFNLElBQUk7Z0JBQ2pIK0QsUUFBUTtvQkFDTkMsYUFBYTt3QkFBRWhFLFFBQVFJLGlCQUFpQkwsSUFBSSxDQUFDQyxNQUFNLElBQUk7d0JBQUdYLE9BQU9lLGlCQUFpQkssTUFBTTtvQkFBQztvQkFDekZ3RCxPQUFPO3dCQUFFakUsUUFBUUssV0FBV04sSUFBSSxDQUFDQyxNQUFNLElBQUk7d0JBQUdYLE9BQU9nQixXQUFXSSxNQUFNO29CQUFDO29CQUN2RXlELFVBQVU7d0JBQUVsRSxRQUFRTSxjQUFjUCxJQUFJLENBQUNDLE1BQU0sSUFBSTt3QkFBR1gsT0FBT2lCLGNBQWNHLE1BQU07b0JBQUM7b0JBQ2hGMEQsS0FBSzt3QkFBRW5FLFFBQVFPLFNBQVNSLElBQUksQ0FBQ0MsTUFBTSxJQUFJO3dCQUFHWCxPQUFPa0IsU0FBU0UsTUFBTTtvQkFBQztnQkFDbkU7WUFDRjtZQUNBLHFCQUFxQjtZQUNyQjJELFNBQVM7Z0JBQ1BSLE9BQU9qRjtnQkFDUDBGLFVBQVV6RjtnQkFDVjBGLFdBQVd6RjtnQkFDWGtELGdCQUFnQm5CO2dCQUNoQm1ELFFBQVE7b0JBQ05RLEtBQUt0RCxTQUFTUixNQUFNO29CQUNwQitELFlBQVl0RCxnQkFBZ0JULE1BQU07b0JBQ2xDZ0UsU0FBU3RELGFBQWFWLE1BQU07Z0JBQzlCO1lBQ0Y7WUFDQSxzQkFBc0I7WUFDdEJpRSxZQUFZO2dCQUNWcEI7Z0JBQ0FDO2dCQUNBQztnQkFDQW1CLFlBQVlyQixpQkFBaUJDLGVBQWVDO1lBQzlDO1lBQ0Esc0NBQXNDO1lBQ3RDekIsZ0JBQWdCNkMsT0FBT0MsT0FBTyxDQUFDOUMsZ0JBQWdCK0MsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsT0FBT0MsS0FBSyxHQUFNO29CQUNyRUQ7b0JBQ0ExQyxXQUFXMkMsS0FBSzNDLFNBQVM7b0JBQ3pCQyxTQUFTMEMsS0FBSzFDLE9BQU87b0JBQ3JCQyxTQUFTeUMsS0FBS3pDLE9BQU87b0JBQ3JCcUIsT0FBT29CLEtBQUszQyxTQUFTLEdBQUcyQyxLQUFLMUMsT0FBTyxHQUFHMEMsS0FBS3pDLE9BQU87Z0JBQ3JELElBQUkwQyxJQUFJLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUQsRUFBRUgsS0FBSyxDQUFDSyxhQUFhLENBQUNELEVBQUVKLEtBQUs7WUFDaEQsd0JBQXdCO1lBQ3hCckMsc0JBQXNCQSxxQkFBcUJvQyxHQUFHLENBQUNPLENBQUFBLE1BQVE7b0JBQ3JEQyxNQUFNRCxJQUFJQyxJQUFJO29CQUNkakcsT0FBT2dHLElBQUk1RSxNQUFNLENBQUNvQyxRQUFRO29CQUMxQjdDLFFBQVFxRixJQUFJckYsTUFBTTtvQkFDbEJ1RixZQUFZRixJQUFJNUUsTUFBTSxDQUFDb0MsUUFBUSxHQUFHd0MsSUFBSXJGLE1BQU07Z0JBQzlDO1FBQ0Y7SUFDRixFQUFFLE9BQU93RixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLE9BQU90SCxxREFBWUEsQ0FBQ3VGLElBQUksQ0FDdEI7WUFBRStCLE9BQU87UUFBd0IsR0FDakM7WUFBRWpHLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBhcnRtZW50LWZlZS1tYW5hZ2VtZW50LWFwcC8uL2FwcC9hcGkvc3RhdGlzdGljcy9yb3V0ZS50cz83YzhlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnQC9saWIvZGInXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IGNvdW50c1xuICAgIGNvbnN0IFtcbiAgICAgIHRvdGFsSG91c2Vob2xkcyxcbiAgICAgIGFjdGl2ZUhvdXNlaG9sZHMsXG4gICAgICB0b3RhbFBheW1lbnRzLFxuICAgICAgcGVuZGluZ1BheW1lbnRzLFxuICAgICAgY29sbGVjdGVkUGF5bWVudHMsXG4gICAgICBvdmVyZHVlUGF5bWVudHMsXG4gICAgICB0b3RhbFBhcmtpbmdTbG90cyxcbiAgICAgIG9jY3VwaWVkUGFya2luZ1Nsb3RzLFxuICAgICAgYXZhaWxhYmxlUGFya2luZ1Nsb3RzLFxuICAgICAgdG90YWxVdGlsaXR5QmlsbHMsXG4gICAgICBwZW5kaW5nVXRpbGl0eUJpbGxzLFxuICAgICAgcGFpZFV0aWxpdHlCaWxscyxcbiAgICAgIG92ZXJkdWVVdGlsaXR5QmlsbHNcbiAgICBdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgcHJpc21hLmhvdXNlaG9sZC5jb3VudCgpLFxuICAgICAgcHJpc21hLmhvdXNlaG9sZC5jb3VudCh7IHdoZXJlOiB7IHN0YXR1czogJ2FjdGl2ZScgfSB9KSxcbiAgICAgIHByaXNtYS5wYXltZW50LmNvdW50KCksXG4gICAgICBwcmlzbWEucGF5bWVudC5jb3VudCh7IHdoZXJlOiB7IHN0YXR1czogJ3BlbmRpbmcnIH0gfSksXG4gICAgICBwcmlzbWEucGF5bWVudC5jb3VudCh7IHdoZXJlOiB7IHN0YXR1czogJ2NvbGxlY3RlZCcgfSB9KSxcbiAgICAgIHByaXNtYS5wYXltZW50LmNvdW50KHsgd2hlcmU6IHsgc3RhdHVzOiAnb3ZlcmR1ZScgfSB9KSxcbiAgICAgIHByaXNtYS5wYXJraW5nU2xvdC5jb3VudCgpLFxuICAgICAgcHJpc21hLnBhcmtpbmdTbG90LmNvdW50KHsgd2hlcmU6IHsgc3RhdHVzOiAnb2NjdXBpZWQnIH0gfSksXG4gICAgICBwcmlzbWEucGFya2luZ1Nsb3QuY291bnQoeyB3aGVyZTogeyBzdGF0dXM6ICdhdmFpbGFibGUnIH0gfSksXG4gICAgICBwcmlzbWEudXRpbGl0eUJpbGwuY291bnQoKSxcbiAgICAgIHByaXNtYS51dGlsaXR5QmlsbC5jb3VudCh7IHdoZXJlOiB7IHN0YXR1czogJ3BlbmRpbmcnIH0gfSksXG4gICAgICBwcmlzbWEudXRpbGl0eUJpbGwuY291bnQoeyB3aGVyZTogeyBzdGF0dXM6ICdwYWlkJyB9IH0pLFxuICAgICAgcHJpc21hLnV0aWxpdHlCaWxsLmNvdW50KHsgd2hlcmU6IHsgc3RhdHVzOiAnb3ZlcmR1ZScgfSB9KVxuICAgIF0pXG5cbiAgICAvLyBHZXQgZmluYW5jaWFsIHN1bW1hcmllcyBmb3IgRmVlIFBheW1lbnRzXG4gICAgY29uc3QgW1xuICAgICAgcGF5bWVudHNDb2xsZWN0ZWQsXG4gICAgICBwYXltZW50c1BlbmRpbmcsXG4gICAgICBwYXltZW50c092ZXJkdWVcbiAgICBdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgcHJpc21hLnBheW1lbnQuYWdncmVnYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgc3RhdHVzOiAnY29sbGVjdGVkJyB9LFxuICAgICAgICBfc3VtOiB7IGFtb3VudDogdHJ1ZSB9XG4gICAgICB9KSxcbiAgICAgIHByaXNtYS5wYXltZW50LmFnZ3JlZ2F0ZSh7XG4gICAgICAgIHdoZXJlOiB7IHN0YXR1czogJ3BlbmRpbmcnIH0sXG4gICAgICAgIF9zdW06IHsgYW1vdW50OiB0cnVlIH1cbiAgICAgIH0pLFxuICAgICAgcHJpc21hLnBheW1lbnQuYWdncmVnYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgc3RhdHVzOiAnb3ZlcmR1ZScgfSxcbiAgICAgICAgX3N1bTogeyBhbW91bnQ6IHRydWUgfVxuICAgICAgfSlcbiAgICBdKVxuXG4gICAgLy8gR2V0IGZpbmFuY2lhbCBzdW1tYXJpZXMgZm9yIFV0aWxpdHkgQmlsbHNcbiAgICBjb25zdCBbXG4gICAgICB1dGlsaXRpZXNQYWlkLFxuICAgICAgdXRpbGl0aWVzUGVuZGluZyxcbiAgICAgIHV0aWxpdGllc092ZXJkdWVcbiAgICBdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgcHJpc21hLnV0aWxpdHlCaWxsLmFnZ3JlZ2F0ZSh7XG4gICAgICAgIHdoZXJlOiB7IHN0YXR1czogJ3BhaWQnIH0sXG4gICAgICAgIF9zdW06IHsgYW1vdW50OiB0cnVlIH1cbiAgICAgIH0pLFxuICAgICAgcHJpc21hLnV0aWxpdHlCaWxsLmFnZ3JlZ2F0ZSh7XG4gICAgICAgIHdoZXJlOiB7IHN0YXR1czogJ3BlbmRpbmcnIH0sXG4gICAgICAgIF9zdW06IHsgYW1vdW50OiB0cnVlIH1cbiAgICAgIH0pLFxuICAgICAgcHJpc21hLnV0aWxpdHlCaWxsLmFnZ3JlZ2F0ZSh7XG4gICAgICAgIHdoZXJlOiB7IHN0YXR1czogJ292ZXJkdWUnIH0sXG4gICAgICAgIF9zdW06IHsgYW1vdW50OiB0cnVlIH1cbiAgICAgIH0pXG4gICAgXSlcblxuICAgIC8vIEdldCB1dGlsaXR5IGJpbGxzIGJ5IHR5cGVcbiAgICBjb25zdCBbXG4gICAgICBlbGVjdHJpY2l0eVRvdGFsLFxuICAgICAgd2F0ZXJUb3RhbCxcbiAgICAgIGludGVybmV0VG90YWwsXG4gICAgICBnYXNUb3RhbFxuICAgIF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBwcmlzbWEudXRpbGl0eUJpbGwuYWdncmVnYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgdHlwZTogJ2VsZWN0cmljaXR5JyB9LFxuICAgICAgICBfc3VtOiB7IGFtb3VudDogdHJ1ZSB9LFxuICAgICAgICBfY291bnQ6IHRydWVcbiAgICAgIH0pLFxuICAgICAgcHJpc21hLnV0aWxpdHlCaWxsLmFnZ3JlZ2F0ZSh7XG4gICAgICAgIHdoZXJlOiB7IHR5cGU6ICd3YXRlcicgfSxcbiAgICAgICAgX3N1bTogeyBhbW91bnQ6IHRydWUgfSxcbiAgICAgICAgX2NvdW50OiB0cnVlXG4gICAgICB9KSxcbiAgICAgIHByaXNtYS51dGlsaXR5QmlsbC5hZ2dyZWdhdGUoe1xuICAgICAgICB3aGVyZTogeyB0eXBlOiAnaW50ZXJuZXQnIH0sXG4gICAgICAgIF9zdW06IHsgYW1vdW50OiB0cnVlIH0sXG4gICAgICAgIF9jb3VudDogdHJ1ZVxuICAgICAgfSksXG4gICAgICBwcmlzbWEudXRpbGl0eUJpbGwuYWdncmVnYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgdHlwZTogJ2dhcycgfSxcbiAgICAgICAgX3N1bTogeyBhbW91bnQ6IHRydWUgfSxcbiAgICAgICAgX2NvdW50OiB0cnVlXG4gICAgICB9KVxuICAgIF0pXG5cbiAgICAvLyBHZXQgcGFya2luZyByZXZlbnVlXG4gICAgY29uc3QgcGFya2luZ1Nsb3RzID0gYXdhaXQgcHJpc21hLnBhcmtpbmdTbG90LmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7IHN0YXR1czogJ29jY3VwaWVkJyB9XG4gICAgfSlcbiAgICBjb25zdCBtb250aGx5UGFya2luZ1JldmVudWUgPSBwYXJraW5nU2xvdHMucmVkdWNlKChzdW0sIHNsb3QpID0+IHN1bSArIHNsb3QubW9udGhseUZlZSwgMClcblxuICAgIC8vIEdldCBwYXJraW5nIGJ5IHR5cGVcbiAgICBjb25zdCBbXG4gICAgICBjYXJTbG90cyxcbiAgICAgIG1vdG9yY3ljbGVTbG90cyxcbiAgICAgIGJpY3ljbGVTbG90c1xuICAgIF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBwcmlzbWEucGFya2luZ1Nsb3QuYWdncmVnYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgdHlwZTogJ2NhcicgfSxcbiAgICAgICAgX2NvdW50OiB0cnVlXG4gICAgICB9KSxcbiAgICAgIHByaXNtYS5wYXJraW5nU2xvdC5hZ2dyZWdhdGUoe1xuICAgICAgICB3aGVyZTogeyB0eXBlOiAnbW90b3JjeWNsZScgfSxcbiAgICAgICAgX2NvdW50OiB0cnVlXG4gICAgICB9KSxcbiAgICAgIHByaXNtYS5wYXJraW5nU2xvdC5hZ2dyZWdhdGUoe1xuICAgICAgICB3aGVyZTogeyB0eXBlOiAnYmljeWNsZScgfSxcbiAgICAgICAgX2NvdW50OiB0cnVlXG4gICAgICB9KVxuICAgIF0pXG5cbiAgICAvLyBHZXQgbW9udGhseSBkYXRhIGZvciB0aGUgbGFzdCA2IG1vbnRocyB3aXRoIHN0YXR1cyBicmVha2Rvd25cbiAgICBjb25zdCBzaXhNb250aHNBZ28gPSBuZXcgRGF0ZSgpXG4gICAgc2l4TW9udGhzQWdvLnNldE1vbnRoKHNpeE1vbnRoc0Fnby5nZXRNb250aCgpIC0gNilcblxuICAgIC8vIEdldCBhbGwgcGF5bWVudHMgd2l0aCB0aGVpciBzdGF0dXMgYW5kIGRhdGVzXG4gICAgY29uc3QgYWxsUGF5bWVudHMgPSBhd2FpdCBwcmlzbWEucGF5bWVudC5maW5kTWFueSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBkdWVEYXRlOiB7IGd0ZTogc2l4TW9udGhzQWdvIH1cbiAgICAgIH0sXG4gICAgICBzZWxlY3Q6IHtcbiAgICAgICAgYW1vdW50OiB0cnVlLFxuICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgIGR1ZURhdGU6IHRydWUsXG4gICAgICAgIHBheW1lbnREYXRlOiB0cnVlXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIEdldCBhbGwgdXRpbGl0eSBiaWxscyB3aXRoIHRoZWlyIHN0YXR1cyBhbmQgZGF0ZXNcbiAgICBjb25zdCBhbGxVdGlsaXRpZXMgPSBhd2FpdCBwcmlzbWEudXRpbGl0eUJpbGwuZmluZE1hbnkoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgZHVlRGF0ZTogeyBndGU6IHNpeE1vbnRoc0FnbyB9XG4gICAgICB9LFxuICAgICAgc2VsZWN0OiB7XG4gICAgICAgIGFtb3VudDogdHJ1ZSxcbiAgICAgICAgc3RhdHVzOiB0cnVlLFxuICAgICAgICBkdWVEYXRlOiB0cnVlLFxuICAgICAgICBwYWlkRGF0ZTogdHJ1ZSxcbiAgICAgICAgdHlwZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBJbml0aWFsaXplIGxhc3QgNiBtb250aHNcbiAgICBjb25zdCBtb250aGx5UmV2ZW51ZTogeyBba2V5OiBzdHJpbmddOiB7IGNvbGxlY3RlZDogbnVtYmVyLCBwZW5kaW5nOiBudW1iZXIsIG92ZXJkdWU6IG51bWJlciB9IH0gPSB7fVxuICAgIGZvciAobGV0IGkgPSA1OyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcbiAgICAgIGRhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpIC0gaSlcbiAgICAgIGNvbnN0IG1vbnRoS2V5ID0gZGF0ZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDcpXG4gICAgICBtb250aGx5UmV2ZW51ZVttb250aEtleV0gPSB7IGNvbGxlY3RlZDogMCwgcGVuZGluZzogMCwgb3ZlcmR1ZTogMCB9XG4gICAgfVxuXG4gICAgLy8gR3JvdXAgcGF5bWVudHMgYnkgbW9udGggYW5kIHN0YXR1c1xuICAgIGFsbFBheW1lbnRzLmZvckVhY2gocGF5bWVudCA9PiB7XG4gICAgICBjb25zdCBtb250aEtleSA9IHBheW1lbnQuZHVlRGF0ZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDcpXG4gICAgICBpZiAobW9udGhseVJldmVudWVbbW9udGhLZXldKSB7XG4gICAgICAgIGlmIChwYXltZW50LnN0YXR1cyA9PT0gJ2NvbGxlY3RlZCcpIHtcbiAgICAgICAgICBtb250aGx5UmV2ZW51ZVttb250aEtleV0uY29sbGVjdGVkICs9IHBheW1lbnQuYW1vdW50XG4gICAgICAgIH0gZWxzZSBpZiAocGF5bWVudC5zdGF0dXMgPT09ICdwZW5kaW5nJykge1xuICAgICAgICAgIG1vbnRobHlSZXZlbnVlW21vbnRoS2V5XS5wZW5kaW5nICs9IHBheW1lbnQuYW1vdW50XG4gICAgICAgIH0gZWxzZSBpZiAocGF5bWVudC5zdGF0dXMgPT09ICdvdmVyZHVlJykge1xuICAgICAgICAgIG1vbnRobHlSZXZlbnVlW21vbnRoS2V5XS5vdmVyZHVlICs9IHBheW1lbnQuYW1vdW50XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gR3JvdXAgdXRpbGl0aWVzIGJ5IG1vbnRoIGFuZCBzdGF0dXNcbiAgICBhbGxVdGlsaXRpZXMuZm9yRWFjaChiaWxsID0+IHtcbiAgICAgIGNvbnN0IG1vbnRoS2V5ID0gYmlsbC5kdWVEYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgNylcbiAgICAgIGlmIChtb250aGx5UmV2ZW51ZVttb250aEtleV0pIHtcbiAgICAgICAgaWYgKGJpbGwuc3RhdHVzID09PSAncGFpZCcpIHtcbiAgICAgICAgICBtb250aGx5UmV2ZW51ZVttb250aEtleV0uY29sbGVjdGVkICs9IGJpbGwuYW1vdW50XG4gICAgICAgIH0gZWxzZSBpZiAoYmlsbC5zdGF0dXMgPT09ICdwZW5kaW5nJykge1xuICAgICAgICAgIG1vbnRobHlSZXZlbnVlW21vbnRoS2V5XS5wZW5kaW5nICs9IGJpbGwuYW1vdW50XG4gICAgICAgIH0gZWxzZSBpZiAoYmlsbC5zdGF0dXMgPT09ICdvdmVyZHVlJykge1xuICAgICAgICAgIG1vbnRobHlSZXZlbnVlW21vbnRoS2V5XS5vdmVyZHVlICs9IGJpbGwuYW1vdW50XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gR2V0IGNhdGVnb3J5IGRpc3RyaWJ1dGlvblxuICAgIGNvbnN0IGNhdGVnb3J5RGlzdHJpYnV0aW9uID0gYXdhaXQgcHJpc21hLmZlZUNhdGVnb3J5LmZpbmRNYW55KHtcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgX2NvdW50OiB7XG4gICAgICAgICAgc2VsZWN0OiB7IHBheW1lbnRzOiB0cnVlIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBDYWxjdWxhdGUgb3ZlcmFsbCBjb2xsZWN0aW9uIHJhdGVzXG4gICAgY29uc3QgdG90YWxGZWVQYXltZW50cyA9IHRvdGFsUGF5bWVudHNcbiAgICBjb25zdCBjb2xsZWN0ZWRGZWVQYXltZW50cyA9IGNvbGxlY3RlZFBheW1lbnRzXG4gICAgY29uc3QgZmVlQ29sbGVjdGlvblJhdGUgPSB0b3RhbEZlZVBheW1lbnRzID4gMCBcbiAgICAgID8gTWF0aC5yb3VuZCgoY29sbGVjdGVkRmVlUGF5bWVudHMgLyB0b3RhbEZlZVBheW1lbnRzKSAqIDEwMCkgXG4gICAgICA6IDBcblxuICAgIGNvbnN0IHRvdGFsVXRpbGl0eVBheW1lbnRzID0gdG90YWxVdGlsaXR5QmlsbHNcbiAgICBjb25zdCBwYWlkVXRpbGl0eVBheW1lbnRzID0gcGFpZFV0aWxpdHlCaWxsc1xuICAgIGNvbnN0IHV0aWxpdHlDb2xsZWN0aW9uUmF0ZSA9IHRvdGFsVXRpbGl0eVBheW1lbnRzID4gMCBcbiAgICAgID8gTWF0aC5yb3VuZCgocGFpZFV0aWxpdHlQYXltZW50cyAvIHRvdGFsVXRpbGl0eVBheW1lbnRzKSAqIDEwMCkgXG4gICAgICA6IDBcblxuICAgIC8vIE92ZXJhbGwgdG90YWxzXG4gICAgY29uc3QgdG90YWxDb2xsZWN0ZWQgPSAocGF5bWVudHNDb2xsZWN0ZWQuX3N1bS5hbW91bnQgfHwgMCkgKyAodXRpbGl0aWVzUGFpZC5fc3VtLmFtb3VudCB8fCAwKVxuICAgIGNvbnN0IHRvdGFsUGVuZGluZyA9IChwYXltZW50c1BlbmRpbmcuX3N1bS5hbW91bnQgfHwgMCkgKyAodXRpbGl0aWVzUGVuZGluZy5fc3VtLmFtb3VudCB8fCAwKVxuICAgIGNvbnN0IHRvdGFsT3ZlcmR1ZSA9IChwYXltZW50c092ZXJkdWUuX3N1bS5hbW91bnQgfHwgMCkgKyAodXRpbGl0aWVzT3ZlcmR1ZS5fc3VtLmFtb3VudCB8fCAwKVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIG92ZXJ2aWV3OiB7XG4gICAgICAgIHRvdGFsSG91c2Vob2xkcyxcbiAgICAgICAgYWN0aXZlSG91c2Vob2xkcyxcbiAgICAgICAgLy8gRmVlIFBheW1lbnRzXG4gICAgICAgIHRvdGFsUGF5bWVudHMsXG4gICAgICAgIHBlbmRpbmdQYXltZW50cyxcbiAgICAgICAgY29sbGVjdGVkUGF5bWVudHMsXG4gICAgICAgIG92ZXJkdWVQYXltZW50cyxcbiAgICAgICAgZmVlQ29sbGVjdGlvblJhdGUsXG4gICAgICAgIC8vIFV0aWxpdHkgQmlsbHNcbiAgICAgICAgdG90YWxVdGlsaXR5QmlsbHMsXG4gICAgICAgIHBlbmRpbmdVdGlsaXR5QmlsbHMsXG4gICAgICAgIHBhaWRVdGlsaXR5QmlsbHMsXG4gICAgICAgIG92ZXJkdWVVdGlsaXR5QmlsbHMsXG4gICAgICAgIHV0aWxpdHlDb2xsZWN0aW9uUmF0ZSxcbiAgICAgICAgLy8gUGFya2luZ1xuICAgICAgICB0b3RhbFBhcmtpbmdTbG90cyxcbiAgICAgICAgb2NjdXBpZWRQYXJraW5nU2xvdHMsXG4gICAgICAgIGF2YWlsYWJsZVBhcmtpbmdTbG90c1xuICAgICAgfSxcbiAgICAgIC8vIEZlZSBQYXltZW50cyBmaW5hbmNpYWxzXG4gICAgICBmZWVQYXltZW50czoge1xuICAgICAgICBjb2xsZWN0ZWQ6IHBheW1lbnRzQ29sbGVjdGVkLl9zdW0uYW1vdW50IHx8IDAsXG4gICAgICAgIHBlbmRpbmc6IHBheW1lbnRzUGVuZGluZy5fc3VtLmFtb3VudCB8fCAwLFxuICAgICAgICBvdmVyZHVlOiBwYXltZW50c092ZXJkdWUuX3N1bS5hbW91bnQgfHwgMCxcbiAgICAgICAgdG90YWw6IChwYXltZW50c0NvbGxlY3RlZC5fc3VtLmFtb3VudCB8fCAwKSArIChwYXltZW50c1BlbmRpbmcuX3N1bS5hbW91bnQgfHwgMCkgKyAocGF5bWVudHNPdmVyZHVlLl9zdW0uYW1vdW50IHx8IDApXG4gICAgICB9LFxuICAgICAgLy8gVXRpbGl0eSBCaWxscyBmaW5hbmNpYWxzXG4gICAgICB1dGlsaXRpZXM6IHtcbiAgICAgICAgcGFpZDogdXRpbGl0aWVzUGFpZC5fc3VtLmFtb3VudCB8fCAwLFxuICAgICAgICBwZW5kaW5nOiB1dGlsaXRpZXNQZW5kaW5nLl9zdW0uYW1vdW50IHx8IDAsXG4gICAgICAgIG92ZXJkdWU6IHV0aWxpdGllc092ZXJkdWUuX3N1bS5hbW91bnQgfHwgMCxcbiAgICAgICAgdG90YWw6ICh1dGlsaXRpZXNQYWlkLl9zdW0uYW1vdW50IHx8IDApICsgKHV0aWxpdGllc1BlbmRpbmcuX3N1bS5hbW91bnQgfHwgMCkgKyAodXRpbGl0aWVzT3ZlcmR1ZS5fc3VtLmFtb3VudCB8fCAwKSxcbiAgICAgICAgYnlUeXBlOiB7XG4gICAgICAgICAgZWxlY3RyaWNpdHk6IHsgYW1vdW50OiBlbGVjdHJpY2l0eVRvdGFsLl9zdW0uYW1vdW50IHx8IDAsIGNvdW50OiBlbGVjdHJpY2l0eVRvdGFsLl9jb3VudCB9LFxuICAgICAgICAgIHdhdGVyOiB7IGFtb3VudDogd2F0ZXJUb3RhbC5fc3VtLmFtb3VudCB8fCAwLCBjb3VudDogd2F0ZXJUb3RhbC5fY291bnQgfSxcbiAgICAgICAgICBpbnRlcm5ldDogeyBhbW91bnQ6IGludGVybmV0VG90YWwuX3N1bS5hbW91bnQgfHwgMCwgY291bnQ6IGludGVybmV0VG90YWwuX2NvdW50IH0sXG4gICAgICAgICAgZ2FzOiB7IGFtb3VudDogZ2FzVG90YWwuX3N1bS5hbW91bnQgfHwgMCwgY291bnQ6IGdhc1RvdGFsLl9jb3VudCB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBQYXJraW5nIGZpbmFuY2lhbHNcbiAgICAgIHBhcmtpbmc6IHtcbiAgICAgICAgdG90YWw6IHRvdGFsUGFya2luZ1Nsb3RzLFxuICAgICAgICBvY2N1cGllZDogb2NjdXBpZWRQYXJraW5nU2xvdHMsXG4gICAgICAgIGF2YWlsYWJsZTogYXZhaWxhYmxlUGFya2luZ1Nsb3RzLFxuICAgICAgICBtb250aGx5UmV2ZW51ZTogbW9udGhseVBhcmtpbmdSZXZlbnVlLFxuICAgICAgICBieVR5cGU6IHtcbiAgICAgICAgICBjYXI6IGNhclNsb3RzLl9jb3VudCxcbiAgICAgICAgICBtb3RvcmN5Y2xlOiBtb3RvcmN5Y2xlU2xvdHMuX2NvdW50LFxuICAgICAgICAgIGJpY3ljbGU6IGJpY3ljbGVTbG90cy5fY291bnRcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIENvbWJpbmVkIGZpbmFuY2lhbHNcbiAgICAgIGZpbmFuY2lhbHM6IHtcbiAgICAgICAgdG90YWxDb2xsZWN0ZWQsXG4gICAgICAgIHRvdGFsUGVuZGluZyxcbiAgICAgICAgdG90YWxPdmVyZHVlLFxuICAgICAgICBncmFuZFRvdGFsOiB0b3RhbENvbGxlY3RlZCArIHRvdGFsUGVuZGluZyArIHRvdGFsT3ZlcmR1ZVxuICAgICAgfSxcbiAgICAgIC8vIE1vbnRobHkgcmV2ZW51ZSBicmVha2Rvd24gYnkgc3RhdHVzXG4gICAgICBtb250aGx5UmV2ZW51ZTogT2JqZWN0LmVudHJpZXMobW9udGhseVJldmVudWUpLm1hcCgoW21vbnRoLCBkYXRhXSkgPT4gKHtcbiAgICAgICAgbW9udGgsXG4gICAgICAgIGNvbGxlY3RlZDogZGF0YS5jb2xsZWN0ZWQsXG4gICAgICAgIHBlbmRpbmc6IGRhdGEucGVuZGluZyxcbiAgICAgICAgb3ZlcmR1ZTogZGF0YS5vdmVyZHVlLFxuICAgICAgICB0b3RhbDogZGF0YS5jb2xsZWN0ZWQgKyBkYXRhLnBlbmRpbmcgKyBkYXRhLm92ZXJkdWVcbiAgICAgIH0pKS5zb3J0KChhLCBiKSA9PiBhLm1vbnRoLmxvY2FsZUNvbXBhcmUoYi5tb250aCkpLFxuICAgICAgLy8gQ2F0ZWdvcnkgZGlzdHJpYnV0aW9uXG4gICAgICBjYXRlZ29yeURpc3RyaWJ1dGlvbjogY2F0ZWdvcnlEaXN0cmlidXRpb24ubWFwKGNhdCA9PiAoe1xuICAgICAgICBuYW1lOiBjYXQubmFtZSxcbiAgICAgICAgY291bnQ6IGNhdC5fY291bnQucGF5bWVudHMsXG4gICAgICAgIGFtb3VudDogY2F0LmFtb3VudCxcbiAgICAgICAgdG90YWxWYWx1ZTogY2F0Ll9jb3VudC5wYXltZW50cyAqIGNhdC5hbW91bnRcbiAgICAgIH0pKVxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignR2V0IHN0YXRpc3RpY3MgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInByaXNtYSIsIkdFVCIsInRvdGFsSG91c2Vob2xkcyIsImFjdGl2ZUhvdXNlaG9sZHMiLCJ0b3RhbFBheW1lbnRzIiwicGVuZGluZ1BheW1lbnRzIiwiY29sbGVjdGVkUGF5bWVudHMiLCJvdmVyZHVlUGF5bWVudHMiLCJ0b3RhbFBhcmtpbmdTbG90cyIsIm9jY3VwaWVkUGFya2luZ1Nsb3RzIiwiYXZhaWxhYmxlUGFya2luZ1Nsb3RzIiwidG90YWxVdGlsaXR5QmlsbHMiLCJwZW5kaW5nVXRpbGl0eUJpbGxzIiwicGFpZFV0aWxpdHlCaWxscyIsIm92ZXJkdWVVdGlsaXR5QmlsbHMiLCJQcm9taXNlIiwiYWxsIiwiaG91c2Vob2xkIiwiY291bnQiLCJ3aGVyZSIsInN0YXR1cyIsInBheW1lbnQiLCJwYXJraW5nU2xvdCIsInV0aWxpdHlCaWxsIiwicGF5bWVudHNDb2xsZWN0ZWQiLCJwYXltZW50c1BlbmRpbmciLCJwYXltZW50c092ZXJkdWUiLCJhZ2dyZWdhdGUiLCJfc3VtIiwiYW1vdW50IiwidXRpbGl0aWVzUGFpZCIsInV0aWxpdGllc1BlbmRpbmciLCJ1dGlsaXRpZXNPdmVyZHVlIiwiZWxlY3RyaWNpdHlUb3RhbCIsIndhdGVyVG90YWwiLCJpbnRlcm5ldFRvdGFsIiwiZ2FzVG90YWwiLCJ0eXBlIiwiX2NvdW50IiwicGFya2luZ1Nsb3RzIiwiZmluZE1hbnkiLCJtb250aGx5UGFya2luZ1JldmVudWUiLCJyZWR1Y2UiLCJzdW0iLCJzbG90IiwibW9udGhseUZlZSIsImNhclNsb3RzIiwibW90b3JjeWNsZVNsb3RzIiwiYmljeWNsZVNsb3RzIiwic2l4TW9udGhzQWdvIiwiRGF0ZSIsInNldE1vbnRoIiwiZ2V0TW9udGgiLCJhbGxQYXltZW50cyIsImR1ZURhdGUiLCJndGUiLCJzZWxlY3QiLCJwYXltZW50RGF0ZSIsImFsbFV0aWxpdGllcyIsInBhaWREYXRlIiwibW9udGhseVJldmVudWUiLCJpIiwiZGF0ZSIsIm1vbnRoS2V5IiwidG9JU09TdHJpbmciLCJzbGljZSIsImNvbGxlY3RlZCIsInBlbmRpbmciLCJvdmVyZHVlIiwiZm9yRWFjaCIsImJpbGwiLCJjYXRlZ29yeURpc3RyaWJ1dGlvbiIsImZlZUNhdGVnb3J5IiwiaW5jbHVkZSIsInBheW1lbnRzIiwidG90YWxGZWVQYXltZW50cyIsImNvbGxlY3RlZEZlZVBheW1lbnRzIiwiZmVlQ29sbGVjdGlvblJhdGUiLCJNYXRoIiwicm91bmQiLCJ0b3RhbFV0aWxpdHlQYXltZW50cyIsInBhaWRVdGlsaXR5UGF5bWVudHMiLCJ1dGlsaXR5Q29sbGVjdGlvblJhdGUiLCJ0b3RhbENvbGxlY3RlZCIsInRvdGFsUGVuZGluZyIsInRvdGFsT3ZlcmR1ZSIsImpzb24iLCJvdmVydmlldyIsImZlZVBheW1lbnRzIiwidG90YWwiLCJ1dGlsaXRpZXMiLCJwYWlkIiwiYnlUeXBlIiwiZWxlY3RyaWNpdHkiLCJ3YXRlciIsImludGVybmV0IiwiZ2FzIiwicGFya2luZyIsIm9jY3VwaWVkIiwiYXZhaWxhYmxlIiwiY2FyIiwibW90b3JjeWNsZSIsImJpY3ljbGUiLCJmaW5hbmNpYWxzIiwiZ3JhbmRUb3RhbCIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJtb250aCIsImRhdGEiLCJzb3J0IiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIiwiY2F0IiwibmFtZSIsInRvdGFsVmFsdWUiLCJlcnJvciIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/statistics/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBRTdDLE1BQU1DLGtCQUFrQkM7QUFJakIsTUFBTUMsU0FBU0YsZ0JBQWdCRSxNQUFNLElBQUksSUFBSUgsd0RBQVlBLEdBQUU7QUFFbEUsSUFBSUksSUFBeUIsRUFBY0gsZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBhcnRtZW50LWZlZS1tYW5hZ2VtZW50LWFwcC8uL2xpYi9kYi50cz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMge1xuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KClcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWFcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstatistics%2Froute&page=%2Fapi%2Fstatistics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstatistics%2Froute.ts&appDir=E%3A%5C2025.1%5CKTPM%5CApartment%20Fee%20Management%20App%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5C2025.1%5CKTPM%5CApartment%20Fee%20Management%20App&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();